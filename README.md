# Hybrid_Transport 混合传输系统

## 项目概述
本项目实现了一个可扩展的混合数据传输系统,支持多种类型数据的混合传输。目前实现以太网数据和辅助信息数据的传输,后期可扩展支持HDMI、USB等数据类型。

### 主要特点
- 支持多种数据类型混合传输
- 基于FPGA的高速光纤通信
- 自动设备注册和状态同步
- 可靠的数据传输机制
- 模块化设计,易于扩展

## 系统架构

### 硬件需求
- FPGA开发板
- SFP+光纤模块
- 千兆以太网PHY
- 系统时钟: 100MHz

### 关键模块
1. **顶层模块(ht_top.v)**
   - 系统控制和配置
   - 数据路由和分发
   - 设备状态管理

2. **以太网模块(eth_top.v)**
   - RGMII接口
   - PHY配置管理
   - 数据包处理

3. **数据转换模块(gmii8b_axi64b_top.v)**
   - GMII到AXI转换
   - 数据打包和解包
   - 时序控制

4. **GT收发器**
   - 光纤数据收发
   - 时钟恢复
   - 协议转换

## 数据格式

### 数据包格式

### 数据类型定义
- ETH  (0001): 以太网数据
- HDMI (0010): HDMI数据(预留)
- USB  (0100): USB数据(预留)
- AUX  (1000): 辅助信息数据

## 实现细节

### 时钟域处理
- 使用异步FIFO处理跨时钟域
- AUX数据直通处理
- 保证数据同步传输

### 设备注册流程
1. 发送本节点设备信息
2. 接收对端设备信息
3. 确认共同设备类型
4. 建立数据传输通道

### 数据传输机制
- 轮询方式发送各类数据
- 基于FIFO的数据缓存
- 保证数据包完整性
- 支持连续数据流

## 使用说明

### 编译和仿真
1. 使用Vivado导入项目文件
2. 检查约束文件配置
3. 运行综合和实现
4. 执行仿真测试

### 调试方法
- 使用ILA核进行实时调试
- 检查LED状态指示
- 监控MDIO接口状态

### 注意事项
1. GT收发器IP核为关键组件,不可删除
2. 确保光纤模块正确安装
3. 检查时钟配置是否正确
4. 注意数据位宽对齐要求

## 扩展功能

### 待实现功能
- HDMI数据传输支持
- USB数据传输支持
- 其他类型数据支持

### 扩展方法
1. 添加新数据类型定义
2. 实现对应接口模块
3. 更新数据路由逻辑
4. 添加必要的FIFO缓存

## 维护说明

### 版本历史
- V0.1: 初始版本,支持基本功能

### 问题反馈
- 发现问题请及时报告
- 提供详细的问题描述
- 附上相关的波形图

## 作者信息
- 作者: 珊瑚伊斯特
- 版本: V0.1
- 日期: 2025.4
